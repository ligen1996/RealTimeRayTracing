# Load FBX
white = Material('white')
white.baseColor = float4(1, 1, 1, 1.0)
white.roughness = 0.3
SceneMesh = TriangleMesh.createFromFile('Arcade.fbx')
SceneMeshID = sceneBuilder.addTriangleMesh(SceneMesh, white)
SceneNodeID = sceneBuilder.addNode('Arcade', Transform(scaling=4, translation = float3(0,-0.2,0)))
sceneBuilder.addMeshInstance(SceneNodeID, SceneMeshID)

# Add camera
camera = Camera()
#camera.position = float3(1.685346, 1.514075, 0.159602)
#camera.target = float3(2.653923, 1.453610, 0.400856)
camera.position = float3(2.895968, 1.313600, 0.781629)
camera.target = float3(3.893661, 1.381219, 0.775531)
camera.up = float3(0, 1, 0)
sceneBuilder.addCamera(camera)

#Add area Light
areaLight = RectLight('RectLight')
areaLight.intensity = float3(10)
sceneBuilder.addLight(areaLight)

LightMove = sceneBuilder.createAnimation(areaLight,'LightMoving',2.0)
pos = float3(-7.898552, 5.029554, 7.193120)
dir = float3(-7.149837, 4.983831, 6.531808) - pos
mv = float3(2.0, 0.0, 1.0)

tr = Transform(scaling=float3(1.3))
tr.lookAt(position=pos+mv,target=pos-dir+mv,up=float3(0,1,0))

tr2 = Transform(scaling=float3(1.3))
tr2.lookAt(position=pos-mv,target=pos-dir-mv,up=float3(0,1,0))

Animation.addKeyframe(LightMove, 0.0, tr)
Animation.addKeyframe(LightMove, 1.0, tr2)
Animation.addKeyframe(LightMove, 2.0, tr)
